---
title: Add Utilities
description: Install and configure Motion and GSAP for animations
---

## Add Utilities

Enhance your project with powerful animation libraries: Motion for React and GSAP.

## Install Motion for React

Motion is a modern animation library for React that makes it easy to create smooth, performant animations.

### Installation

```bash
npm install motion
```

### Basic Setup

**app/layout.tsx**

```tsx
import { MotionConfig } from "motion/react";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body>
        <MotionConfig reducedMotion="user">{children}</MotionConfig>
      </body>
    </html>
  );
}
```

### Using Motion in Components

```tsx
import { motion } from "motion/react";

export default function AnimatedButton() {
  return (
    <motion.button
      whileHover={{ scale: 1.05 }}
      whileTap={{ scale: 0.95 }}
      className="px-4 py-2 bg-blue-500 text-white rounded"
    >
      Click me
    </motion.button>
  );
}
```

### Common Motion Animations

```tsx
// Fade in animation
<motion.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  transition={{ duration: 0.5 }}
>
  Content
</motion.div>

// Slide in animation
<motion.div
  initial={{ x: -100 }}
  animate={{ x: 0 }}
  transition={{ type: "spring", stiffness: 100 }}
>
  Slide in content
</motion.div>

// Stagger children
<motion.div initial="hidden" animate="visible" variants={{
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: { staggerChildren: 0.1 }
  }
}}>
  {items.map((item) => (
    <motion.div key={item.id} variants={{
      hidden: { opacity: 0, y: 20 },
      visible: { opacity: 1, y: 0 }
    }}>
      {item.name}
    </motion.div>
  ))}
</motion.div>
```

---

## Install GSAP

GSAP (GreenSock Animation Platform) is a powerful JavaScript animation library with advanced features like ScrollTrigger for scroll-based animations.

### Installation

```bash
npm install gsap
```

### Install ScrollTrigger Plugin

```bash
npm install gsap gsap/ScrollTrigger
```

### Basic Setup

**lib/gsap-init.ts**

```ts
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";

// Register the ScrollTrigger plugin
gsap.registerPlugin(ScrollTrigger);

export { gsap, ScrollTrigger };
```

### Using GSAP in Components

```tsx
"use client";

import { useEffect, useRef } from "react";
import gsap from "gsap";

export default function AnimatedBox() {
  const boxRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (boxRef.current) {
      gsap.to(boxRef.current, {
        duration: 1,
        x: 100,
        rotation: 360,
        ease: "power2.inOut",
      });
    }
  }, []);

  return <div ref={boxRef} className="w-16 h-16 bg-blue-500 rounded" />;
}
```

### Using GSAP with ScrollTrigger

```tsx
"use client";

import { useEffect, useRef } from "react";
import { gsap } from "@/lib/gsap-init";

export default function ScrollAnimation() {
  const sectionRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (sectionRef.current) {
      gsap.to(sectionRef.current, {
        scrollTrigger: {
          trigger: sectionRef.current,
          start: "top center",
          end: "bottom center",
          scrub: 1,
          markers: true, // Remove in production
        },
        opacity: 1,
        y: 0,
        duration: 1,
      });
    }
  }, []);

  return (
    <div
      ref={sectionRef}
      className="h-screen flex items-center justify-center"
      style={{ opacity: 0, transform: "translateY(100px)" }}
    >
      <h2 className="text-4xl font-bold">Scroll to animate</h2>
    </div>
  );
}
```

### Common GSAP Timeline Animations

```tsx
useEffect(() => {
  const tl = gsap.timeline();

  tl.to(".box1", { duration: 0.5, x: 100 })
    .to(".box2", { duration: 0.5, y: 100 }, 0) // Start at same time as box1
    .to(".box3", { duration: 0.5, rotation: 360 }); // Start after previous
}, []);
```

---

## Choosing Between Motion and GSAP

### Use Motion for React when:

- Building modern React components with smooth animations
- Need integrated state-based animations
- Working with variants and gesture animations
- Prefer a lightweight, focused library

### Use GSAP when:

- Building complex, timeline-based animations
- Need scroll-triggered animations (ScrollTrigger)
- Working with advanced easing and morphing
- Building pixel-perfect animations
- Need cross-browser compatibility for older browsers

### Using Both Together

You can use both libraries in the same project:

```tsx
"use client";

import { motion } from "motion/react";
import { useEffect, useRef } from "react";
import gsap from "gsap";

export default function HybridAnimation() {
  const containerRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    // GSAP for scroll-based animations
    gsap.to(containerRef.current, {
      scrollTrigger: {
        trigger: containerRef.current,
        start: "top center",
      },
      opacity: 1,
    });
  }, []);

  return (
    <div ref={containerRef}>
      {/* Motion for component interactions */}
      <motion.button
        whileHover={{ scale: 1.1 }}
        className="px-4 py-2 bg-blue-500 text-white rounded"
      >
        Animated Button
      </motion.button>
    </div>
  );
}
```

---

## Next steps

Your project is now fully equipped with animation libraries. Proceed to:

- [Use the CLI](/docs/installation/cli)
- Explore pixel-perfect components in the [Blocks](/docs/blocks) section
