{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "text-reveal2",
  "type": "registry:block",
  "description": "Text reveal animation variant.",
  "dependencies": [
    "framer-motion"
  ],
  "files": [
    {
      "path": "registry/new-york/text/text-reveal2.tsx",
      "content": "\"use client\";\r\n\r\nimport { useRef, useState } from \"react\";\r\nimport gsap from \"gsap\";\r\nimport { useGSAP } from \"@gsap/react\";\r\n\r\ninterface TextRevealProps {\r\n  children: string;\r\n  className?: string;\r\n  duration?: number;\r\n  chars?: string;\r\n}\r\n\r\nexport default function TextReveal2({\r\n  children,\r\n  className = \"\",\r\n  duration = 1.5,\r\n  chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*\",\r\n}: TextRevealProps) {\r\n  const textRef = useRef<HTMLSpanElement>(null);\r\n  const [isScrambling, setIsScrambling] = useState(true);\r\n\r\n  useGSAP(\r\n    () => {\r\n      const el = textRef.current!;\r\n      const finalText = children;\r\n\r\n      const obj = { progress: 0 };\r\n\r\n      gsap.to(obj, {\r\n        progress: finalText.length,\r\n        duration: duration,\r\n        ease: \"none\",\r\n        repeat: -1,\r\n        repeatDelay: 1,\r\n        onUpdate: () => {\r\n          el.innerText = finalText\r\n            .split(\"\")\r\n            .map((char, i) => {\r\n              if (char === \" \") return \" \";\r\n              if (i < obj.progress) return finalText[i];\r\n              return chars[Math.floor(Math.random() * chars.length)];\r\n            })\r\n            .join(\"\");\r\n        },\r\n        onComplete: () => {\r\n          el.innerText = finalText;\r\n          setIsScrambling(false);\r\n        },\r\n      });\r\n    },\r\n    { dependencies: [children, duration, chars] }\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <style jsx>{`\r\n        .glitch {\r\n          display: inline-block;\r\n          animation: jitter 0.15s infinite alternate, colorGlitch 0.1s infinite;\r\n        }\r\n\r\n        @keyframes jitter {\r\n          0% {\r\n            transform: translate(0, 0);\r\n          }\r\n          100% {\r\n            transform: translate(1px, -1px);\r\n          }\r\n        }\r\n\r\n        @keyframes colorGlitch {\r\n          0% {\r\n            text-shadow: 2px 0 #ff0000, -2px 0 #00ffff;\r\n          }\r\n          25% {\r\n            text-shadow: -2px 0 #ff0000, 2px 0 #00ffff;\r\n          }\r\n          50% {\r\n            text-shadow: 2px 1px #ff0000, -2px -1px #00ffff;\r\n          }\r\n          75% {\r\n            text-shadow: -1px -1px #ff0000, 1px 1px #00ffff;\r\n          }\r\n          100% {\r\n            text-shadow: 1px 0 #ff0000, -1px 0 #00ffff;\r\n          }\r\n        }\r\n      `}</style>\r\n      <span\r\n        ref={textRef}\r\n        className={`${className} ${isScrambling ? \"glitch\" : \"\"}`}\r\n      >\r\n        {children}\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components/pixel-perfect/text-reveal2.tsx"
    }
  ]
}