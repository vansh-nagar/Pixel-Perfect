{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Morph Image Button",
  "type": "registry:block",
  "description": "A button that morphs with an image on hover.",
  "dependencies": [
    "button"
  ],
  "files": [
    {
      "path": "registry/new-york/buttons/morph-image-button.tsx",
      "content": "\"use client\";\r\nimport React, { useRef } from \"react\";\r\nimport { gsap } from \"gsap\";\r\nimport { useGSAP } from \"@gsap/react\";\r\nimport MorphSVGPlugin from \"gsap/MorphSVGPlugin\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/cn\";\r\n\r\ngsap.registerPlugin(MorphSVGPlugin);\r\n\r\ntype ButtonVariant =\r\n  | \"default\"\r\n  | \"destructive\"\r\n  | \"outline\"\r\n  | \"secondary\"\r\n  | \"ghost\"\r\n  | \"link\";\r\n\r\ntype ButtonSize = \"default\" | \"sm\" | \"lg\" | \"icon\" | \"icon-sm\" | \"icon-lg\";\r\n\r\ninterface MorphImageMaskButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: ButtonVariant;\r\n  size?: ButtonSize;\r\n  children?: React.ReactNode;\r\n  image1?: string;\r\n  image2?: string;\r\n}\r\n\r\nconst MorphImageMaskButton = React.forwardRef<\r\n  HTMLButtonElement,\r\n  MorphImageMaskButtonProps\r\n>(\r\n  (\r\n    {\r\n      className,\r\n      variant = \"ghost\",\r\n      size = \"default\",\r\n      disabled = false,\r\n      children,\r\n      image1 = \"https://i.pinimg.com/1200x/ba/04/b5/ba04b5b6de06babfd39cb0346fe94d1c.jpg\",\r\n      image2 = \"https://i.pinimg.com/736x/8f/3c/69/8f3c69cbae64cc1af6d6cc33acec50e3.jpg\",\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const buttonRef = useRef<HTMLButtonElement>(null);\r\n    useGSAP(\r\n      () => {\r\n        const start = \"M 0 100 V 50 Q 50 0 100 50 V 100 z\";\r\n        const end = \"M 0 100 V 0 Q 50 0 100 0 V 100 z\";\r\n\r\n        const tl = gsap.timeline({ paused: true });\r\n\r\n        tl.to(\".path\", {\r\n          morphSVG: start,\r\n          ease: \"power2.in\",\r\n        }).to(\".path\", {\r\n          morphSVG: end,\r\n          ease: \"power2.out\",\r\n        });\r\n\r\n        if (!buttonRef.current) return;\r\n\r\n        buttonRef.current?.addEventListener(\"mouseenter\", () => {\r\n          tl.play();\r\n        });\r\n        buttonRef.current?.addEventListener(\"mouseleave\", () => {\r\n          tl.reverse();\r\n        });\r\n      },\r\n      { scope: buttonRef }\r\n    );\r\n    return (\r\n      <Button\r\n        ref={buttonRef}\r\n        variant={variant}\r\n        size={size}\r\n        disabled={disabled}\r\n        className={cn(\r\n          \"relative button cursor-pointer rounded-md m-2 overflow-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        <div className=\"absolute inset-0 z-30\">\r\n          <svg\r\n            viewBox=\"0 0 100 100\"\r\n            preserveAspectRatio=\"xMidYMid slice\"\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n            }}\r\n            className=\"absolute inset-0 \"\r\n          >\r\n            <defs>\r\n              <mask id=\"waveMask\">\r\n                <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"black\" />\r\n                <path\r\n                  className=\"path\"\r\n                  fill=\"white\"\r\n                  d=\"M 0 100 V 100 Q 50 100 100 100 V 100 z\"\r\n                />\r\n              </mask>\r\n            </defs>\r\n\r\n            <image\r\n              href={image1}\r\n              preserveAspectRatio=\"xMidYMid slice\"\r\n              height={\"100\"}\r\n              width={\"100\"}\r\n              x=\"0\"\r\n              y=\"0\"\r\n              mask=\"url(#waveMask)\"\r\n            />\r\n          </svg>\r\n        </div>\r\n        <img src={image2} alt=\"\" className=\" absolute object-top\" />\r\n        <div className=\" z-40  scale-100  text text-white\">\r\n          {children ?? \"hover me\"}\r\n        </div>\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nMorphImageMaskButton.displayName = \"MorphImageMaskButton\";\r\n\r\nexport default MorphImageMaskButton;\r\n",
      "type": "registry:component",
      "target": "components/pixel-perfect/morph-image-button.tsx"
    }
  ]
}